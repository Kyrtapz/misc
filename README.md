# 32 bit segmentation

Segmentation provides a mechanism for dividing the processor's addressable memory into smaller prodected spaces(**segments**).

To find the segments in memory the processor needs to know the base address of the segments. The base addresses of the segments are stored in their respective **segment descriptors**.
Segment descriptor has a base adress, limit and access rights
To find the segment descriptor implicit **segment selectors** are be used (CS - Code segment selector, DS - Data segment selector, ES, SS, FS, GS).
The selector is used as an index to the **Global Descriptor Table (GDT)** or **Local Descriptor Table(LDT)** and the address of GDT is stored in a special CPU register called GDTR (Global Descriptor Table Register).
![image](data:image/png;base64,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)
A segment selector has the following format:  
|-------- 13 bits ---------| 1 bit | 2 bits |  
            ^                  ^      ^  
            '                  '      '  
            '                  '       `-------RPL: Requester Privilege Level  
            '                  `----- TI: Table Indicator  
            `------------ Index to GDT  

The x86-64 architecture has largely dropped support for segmentation in 64-bit mode.


Mostly copied from **https://cyrussh.com/?p=161**
